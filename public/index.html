<!DOCTYPE html>
<html>
<head>
  <title>DEAF Private Chat</title>
  <script src="/socket.io/socket.io.js"></script>
  <style>
    body { font-family: Arial; background: #0f172a; color: white; }
    .box { width: 400px; margin: auto; padding: 20px; background: #111827; border-radius: 10px; }
    input, button { padding: 10px; margin: 5px; width: 100%; }
    #chat { height: 300px; overflow-y: auto; border: 1px solid gray; padding: 10px; }
  </style>
</head>
<body>

<div class="box">
  <h2>DEAF â€” One to One Chat</h2>

  <input id="room" placeholder="Enter Room ID (e.g. room123)">
  <button onclick="joinRoom()">Join Chat</button>

  <div id="chat"></div>

  <input id="msg" placeholder="Type your message">
  <button onclick="sendMessage()">Send</button>
</div>

<script>
const socket = io();

function joinRoom() {
  const room = document.getElementById("room").value;
  socket.emit("join-room", room);
  document.getElementById("chat").innerHTML += "<p>Joined room: " + room + "</p>";
}

function sendMessage() {
  const room = document.getElementById("room").value;
  const message = document.getElementById("msg").value;

  socket.emit("private-message", { roomId: room, message: message });

  document.getElementById("chat").innerHTML += "<p><b>You:</b> " + message + "</p>";
}

socket.on("private-message", (data) => {
  document.getElementById("chat").innerHTML += 
    "<p><b>Friend:</b> " + data.message + "</p>";
});
</script>

</body>
</html>
